<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="libs/slickgrid2.css">
  <link rel="stylesheet" href="slick-default-theme.css">
  <link rel="stylesheet" href="examples.css">
  <script src="libs/lodash.js" defer></script>
  <script src="libs/jquery.js" defer></script>
  <script src="libs/jquery.event.drag.js" defer></script>
  <script src="libs/slickgrid2.js" defer></script>
</head>
<body>
<style>
  .slickGrid .cell.invalid {
    border: 2px solid red;
  }
</style>
<h2>Demonstrates:</h2>
<ul>
  <li>validation when editing a field (try setting title to nothing)</li>
</ul>
<div id="myGrid"></div>

<script>
function validateRequiredField(value) {
  if (value == null || value == undefined || value.length === 0) {
    return {
      valid: false,
      msg: 'This is a required field'
    }
  }
  return { valid: true }
}

window.onload = () => {
  const columns = [
    {
      id: 'title',
      name: 'Title',
      field: 'title',
      width: 200,
      editor: slickgrid2.TextEditor,
      validator: validateRequiredField
    },
    {
      id: 'priority',
      name: 'Priority',
      field: 'priority',
      width: 80
    }
  ]

  const data = _.range(0, 100).map(i => ({
    title: `Task ${i}`,
    priority: 'Medium'
  }))

  const grid = new slickgrid2.SlickGrid('#myGrid', data, columns, {
    rowHeight: 30
  })
}
</script>

</body>
</html>
