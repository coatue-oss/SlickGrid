<!DOCTYPE html>
<html>
<head>
  <title>SlickGrid Example: Formatting</title>
  <link rel="stylesheet" href="../dist/slickgrid2.css">
  <link rel="stylesheet" href="slick-default-theme.css">
  <link rel="stylesheet" href="examples.css">
  <style>
    .cell-title {
      font-weight: bold;
    }
  </style>
</head>
<body>
<h2>Demonstrates:</h2>
<ul>
  <li>custom column formatters</li>
  <li>width, minWidth, maxWidth, resizable & cssClass column properties</li>
</ul>
<div id="myGrid"></div>

<script src="../node_modules/lodash/lodash.js"></script>
<script src="../node_modules/jquery/dist/jquery.js"></script>
<script src="../node_modules/@bcherny/jquery.threedubmedia/event.drag/jquery.event.drag.js"></script>
<script src="../dist/slickgrid2.js"></script>
<script>
function tickFormatter(row, cell, value, columnDef, dataContext) {
  return value ? '<img src="images/tick.png">' : ''
}

function durationFormatter(row, cell, value, columnDef, dataContext) {
  return `${value} days`
}

var data = []
var columns = [
  {
    id: 'title',
    name: 'Title',
    field: 'title',
    width: 120,
    cssClass: 'cell-title'
  },
  {
    id: 'duration',
    name: 'Duration',
    field: 'duration',
    formatter: durationFormatter
  },
  {
    id: '%',
    name: '% Complete',
    field: 'percentComplete',
    width: 100,
    resizable: false // TODOCK: this doesn't work, but you can overcome it by setting min & maxWidth to same number
  },
  {
    id: 'start',
    name: 'Start',
    field: 'start',
    minWidth: 100
  },
  {
    id: 'finish',
    name: 'Finish',
    field: 'finish',
    minWidth: 100
  },
  {
    id: 'effort-driven',
    name: 'Effort Driven',
    sortable: false,
    width: 110,
    minWidth: 20,
    maxWidth: 160,
    field: 'effortDriven',
    formatter: tickFormatter
  }
]

$(function () {
  for (var i = 0; i < 5; i++) {
    data.push({
      title: `Task ${i}`,
      duration: Math.round(Math.random() * 10),
      percentComplete: Math.min(100, Math.round(Math.random() * 110)),
      start: '01/01/2009',
      finish: '01/05/2009',
      effortDriven: i % 2 === 0
    })
  }

  grid = new slickgrid2.SlickGrid('#myGrid', data, columns, {
    editable: false,
    enableAddRow: false,
    enableCellNavigation: true
  })
})
</script>
</body>
</html>
