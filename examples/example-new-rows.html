<!DOCTYPE html>
<html>
<head>
  <title>SlickGrid Example: New Rows</title>
  <link rel="stylesheet" href="../dist/slickgrid2.css">
  <link rel="stylesheet" href="slick-default-theme.css">
  <link rel="stylesheet" href="examples.css">
</head>
<body>
<h2>Demonstrates:</h2>
<ul>
  <li>new rows</li>
</ul>
<div id="myGrid"></div>

<script src="../node_modules/lodash/lodash.js"></script>
<script src="../node_modules/jquery/dist/jquery.js"></script>
<script src="../node_modules/@bcherny/jquery.threedubmedia/event.drag/jquery.event.drag.js"></script>
<script src="../dist/slickgrid2.js"></script>

<script>
let grid
let data = []
const columns = [
  {
    id: 'title',
    name: 'Title',
    field: 'title',
    width: 120,
    editor: slickgrid2.TextEditor
  },
  {
    id: 'duration',
    name: 'Duration',
    field: 'duration',
    editor: slickgrid2.TextEditor
  }
]

$(() => {
  for (var i = 0; i < 8; i++) {
    data.push({
      title: `Task ${i}`,
      duration: '5 days'
    })
  }

  grid = new slickgrid2.SlickGrid('#myGrid', data, columns, {
    enableAddRow: true
  })

  grid.onAddNewRow.subscribe((e, args) => {
    var item = args.item
    grid.invalidateRow(data.length)
    data.push(item)
    grid.updateRowCount()
    grid.render()
  })
})
</script>
</body>
</html>
